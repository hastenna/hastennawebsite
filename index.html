<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>hastenna</title>

    <!-- Preload preferred image -->
    <link rel="preload" as="image" href="image2.webp">

    <style>
        html, body {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            overflow: hidden;

            touch-action: manipulation;
            -webkit-tap-highlight-color: transparent;
            user-select: none;
        }

        body {
            cursor: default;
            transition: cursor 0.2s linear;
        }

        body.fade-cursor {
            cursor: none;
        }

        picture, img {
            width: 100vw;
            height: 100vh;
            display: block;
        }

        img {
            object-fit: cover;
            -webkit-user-drag: none;

            /* Soft fade-in */
            opacity: 0;
            transition: opacity 1.2s ease;
        }

        img.loaded {
            opacity: 1;
        }
    </style>
</head>
<body onclick="toggleFullscreen()">

    <!-- WebP with PNG fallback -->
    <picture>
        <source srcset="image2.webp" type="image/webp">
        <img src="image2.png" alt="Static Image" id="hero">
    </picture>

    <script>
        const FADE_DELAY = 3333; // 3.33333 seconds
        let cursorTimer;

        const img = document.getElementById("hero");

        /* Fade image in when loaded */
        img.addEventListener("load", () => {
            img.classList.add("loaded");
        });

        /* Fullscreen toggle */
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen().catch(() => {});
            } else {
                document.exitFullscreen().catch(() => {});
            }
        }

        /* Keyboard shortcut: F */
        document.addEventListener("keydown", (e) => {
            if (e.key.toLowerCase() === "f") {
                toggleFullscreen();
            }
        });

        /* Cursor fade logic (fullscreen only) */
        function resetCursorFade() {
            if (!document.fullscreenElement) {
                document.body.classList.remove("fade-cursor");
                return;
            }

            document.body.classList.remove("fade-cursor");
            clearTimeout(cursorTimer);

            cursorTimer = setTimeout(() => {
                document.body.classList.add("fade-cursor");
            }, FADE_DELAY);
        }

        document.addEventListener("mousemove", resetCursorFade);
        document.addEventListener("touchstart", resetCursorFade);

        document.addEventListener("fullscreenchange", () => {
            resetCursorFade();
        });
    </script>

</body>
</html>
